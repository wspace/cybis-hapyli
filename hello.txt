
asm ref (*array) = (load)
asm ref (*array index) = (add load)
asm print-char (c) = (pc)
asm ++ (i) = (push 1 add)

def print-string (*str) = 
    let c = (ref *str)
    in (if c
           0
           (do (print-char c)
               (print-string (++ *str))))
               
def main () = (print-string "Hello, world!")
